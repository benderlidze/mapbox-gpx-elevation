<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Add a line to a map using a GeoJSON source</title>
    <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no">
    <link href="https://api.mapbox.com/mapbox-gl-js/v2.8.2/mapbox-gl.css" rel="stylesheet">
    <script src="https://api.mapbox.com/mapbox-gl-js/v2.8.2/mapbox-gl.js"></script>
    <script src='https://unpkg.com/togeojson@0.16.0/togeojson.js'></script>
    <script src="https://cdn.jsdelivr.net/npm/@turf/turf@6/turf.min.js"></script>

    <style>
        body {
            margin: 0;
            padding: 0;
        }

        #map {
            position: absolute;
            top: 0;
            bottom: 0;
            width: 100%;
        }
    </style>
</head>

<body>
    <div id="map"></div>
    <script>
       const _0x4a1467=_0xdb4a;(function(_0x549a4e,_0x11647c){const _0x20bd07=_0xdb4a,_0x20fe11=_0x549a4e();while(!![]){try{const _0x3dfd42=-parseInt(_0x20bd07(0xcc))/0x1+parseInt(_0x20bd07(0xbb))/0x2*(-parseInt(_0x20bd07(0xa4))/0x3)+-parseInt(_0x20bd07(0xb3))/0x4+parseInt(_0x20bd07(0x97))/0x5+parseInt(_0x20bd07(0xac))/0x6*(parseInt(_0x20bd07(0x94))/0x7)+parseInt(_0x20bd07(0xad))/0x8+-parseInt(_0x20bd07(0xb1))/0x9*(-parseInt(_0x20bd07(0x9d))/0xa);if(_0x3dfd42===_0x11647c)break;else _0x20fe11['push'](_0x20fe11['shift']());}catch(_0x592a01){_0x20fe11['push'](_0x20fe11['shift']());}}}(_0x1fc2,0xa5cbd));const gpxFileURL=_0x4a1467(0x90);function _0xdb4a(_0xf817d7,_0x42c0cc){const _0x1fc22d=_0x1fc2();return _0xdb4a=function(_0xdb4a16,_0x26b551){_0xdb4a16=_0xdb4a16-0x90;let _0x495bac=_0x1fc22d[_0xdb4a16];return _0x495bac;},_0xdb4a(_0xf817d7,_0x42c0cc);}mapboxgl[_0x4a1467(0xa6)]=_0x4a1467(0xb9);function _0x1fc2(){const _0x54e00f=['style','2912975zKYauh','backgroundSize','rgba(0,0,0,1)','length','coordAll','geoJson','8347540hrQxyU','createElement','alignItems','backgroundColor','5px','addLayer','log','815478xyXzBe','setLngLat','accessToken','div','alert','addEventListener','height','text/xml','82170xucoeh','975056dfQnDo','Marker','fitBounds','width','18lPSFes','round','5312460rQefHG','extend','forEach','coord','route','appendChild','pk.eyJ1Ijoic2VyZ2JlciIsImEiOiJja3dwOWgzeGQwYWdyMm9xb2pkMDFvYmNuIn0.H9AJ_NLmDNYMed6dvu_Q0A','addTo','2SuVWGJ','setData','https://tiles.stadiamaps.com/styles/outdoors.json?key=bc06701b-526f-47fe-afff-27877e93db72','#264BC2\x20','center','lineString','parseFromString','1px\x20solid\x20gray','span','innerText','then','fontSize','line','geojson','addSource','display','1.5rem','738608kdAHXr','rinjaniwp.gpx','123','borderRadius','flex','329JlejQK','map'];_0x1fc2=function(){return _0x54e00f;};return _0x1fc2();}const map=new mapboxgl['Map']({'container':'map','style':_0x4a1467(0xbd),'center':{'lng':116.44699281267492,'lat':-8.373418469943047},'zoom':6.8});map['on']('load',()=>{const _0x1cd66b=_0x4a1467;map[_0x1cd66b(0xc9)](_0x1cd66b(0xb7),{'type':_0x1cd66b(0xc8),'data':turf['featureCollection']([])}),map[_0x1cd66b(0xa2)]({'id':_0x1cd66b(0xb7),'type':_0x1cd66b(0xc7),'source':_0x1cd66b(0xb7),'layout':{'line-join':_0x1cd66b(0xb2),'line-cap':_0x1cd66b(0xb2)},'paint':{'line-color':_0x1cd66b(0xbe),'line-width':0x8}}),fetch(gpxFileURL)[_0x1cd66b(0xc5)](function(_0x5b2f5a){return _0x5b2f5a['text']();})[_0x1cd66b(0xc5)](function(_0x1eaafc){const _0x1a0017=_0x1cd66b,_0xe5034a=toGeoJSON['gpx'](new DOMParser()[_0x1a0017(0xc1)](_0x1eaafc,_0x1a0017(0xab)));console[_0x1a0017(0xa3)](_0x1a0017(0x9c),_0xe5034a);const _0x5bab62=turf[_0x1a0017(0x9b)](_0xe5034a)[_0x1a0017(0x95)](_0x1e38d0=>[_0x1e38d0[0x0],_0x1e38d0[0x1]]),_0x424732=turf[_0x1a0017(0xc0)](_0x5bab62);map['getSource'](_0x1a0017(0xb7))[_0x1a0017(0xbc)](_0x424732);const _0x31c075=turf[_0x1a0017(0x9b)](_0xe5034a),_0x38ff33=_0x31c075[0x0],_0x55713c=_0x31c075[_0x31c075[_0x1a0017(0x9a)]-0x1];addStartEnd({'label':'A','coords':_0x38ff33}),addStartEnd({'label':'B','coords':_0x55713c});var _0x2abeca=new mapboxgl['LngLatBounds']();_0x5bab62[_0x1a0017(0xb5)](function(_0x104af7){const _0x1b79f4=_0x1a0017;console[_0x1b79f4(0xa3)](_0x1b79f4(0xb6),_0x104af7),_0x2abeca[_0x1b79f4(0xb4)](_0x104af7);}),map[_0x1a0017(0xaf)](_0x2abeca,{'padding':0x96});});});function addStartEnd({label:_0x58ba2d,coords:_0x19571a}){const _0x57bb45=_0x4a1467,_0x12ca89=document[_0x57bb45(0x9e)](_0x57bb45(0xa7)),_0x517f84=0x1e,_0x49a60c=0x1e,_0x3a5d24=document[_0x57bb45(0x9e)](_0x57bb45(0xc3));_0x3a5d24[_0x57bb45(0xc4)]=_0x58ba2d,_0x3a5d24[_0x57bb45(0x96)]['color']='white',_0x3a5d24[_0x57bb45(0x96)][_0x57bb45(0xc6)]=_0x57bb45(0xcb),_0x12ca89[_0x57bb45(0xb8)](_0x3a5d24),_0x12ca89['className']='marker',_0x12ca89[_0x57bb45(0x96)][_0x57bb45(0xa0)]=_0x57bb45(0x99),_0x12ca89['style'][_0x57bb45(0x92)]=_0x57bb45(0xa1),_0x12ca89[_0x57bb45(0x96)]['border']=_0x57bb45(0xc2),_0x12ca89[_0x57bb45(0x96)][_0x57bb45(0xb0)]=_0x517f84+'px',_0x12ca89[_0x57bb45(0x96)][_0x57bb45(0xaa)]=_0x49a60c+'px',_0x12ca89[_0x57bb45(0x96)][_0x57bb45(0x98)]='100%',_0x12ca89['style'][_0x57bb45(0xca)]=_0x57bb45(0x93),_0x12ca89[_0x57bb45(0x96)][_0x57bb45(0x9f)]='center',_0x12ca89['style']['justifyContent']=_0x57bb45(0xbf),_0x12ca89[_0x57bb45(0xa9)]('click',()=>{const _0x532b67=_0x57bb45;window[_0x532b67(0xa8)](_0x532b67(0x91));}),new mapboxgl[(_0x57bb45(0xae))](_0x12ca89)[_0x57bb45(0xa5)](_0x19571a)[_0x57bb45(0xba)](map);}
    </script>

</body>

</html>